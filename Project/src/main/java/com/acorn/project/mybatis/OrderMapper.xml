<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="order">
	<insert id="getInfo" parameterType="orderDto">
		INSERT INTO ordertable
		(orderId, userId, userAddr, userPostal, userAddrDetail, tel, amount, orderDate)
	 	values(orderId_seq.nextval, #{userId}, #{userAddr}, #{userPostal}, #{userAddrDetail}, #{tel}, #{amount}, #{orderDate})
	</insert>
	
	<insert id="getInfo_Detail" parameterType="com.acorn.project.order.dto.OrderDetailDto">
		INSERT INTO ordertable_detail
		(orderId_detail, orderId, productId, amount_detail)
		SELECT orderId_detail_seq.nextval, #{orderId}, productId, amount
	    FROM cart   
	 	WHERE id=#{id}
	</insert>
</mapper>








